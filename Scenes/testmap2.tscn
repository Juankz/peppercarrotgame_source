[gd_scene load_steps=17 format=1]

[ext_resource path="res://addons/platform2d/thick_platform.gd" type="Script" id=1]
[ext_resource path="res://addons/platform2d/thick_platform_icon.png" type="Texture" id=2]
[ext_resource path="res://Assets/platform2d-example/dirt.png" type="Texture" id=3]
[ext_resource path="res://Assets/platform2d-example/grass_border.png" type="Texture" id=4]
[ext_resource path="res://Assets/platform2d-example/rock_border.png" type="Texture" id=5]
[ext_resource path="res://Assets/Images/grad.png" type="Texture" id=6]
[ext_resource path="res://Scenes/World/tools/tool_player_world_dialogue_trigger.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/World/npcs/enemies/test_enemy.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scenes/World/tools/tool_menu_camera.tscn" type="PackedScene" id=9]
[ext_resource path="res://Scenes/World/tools/tool_player_start.tscn" type="PackedScene" id=10]
[ext_resource path="res://addons/closeup_dialogs/close_up_dialog.gd" type="Script" id=11]
[ext_resource path="res://addons/closeup_dialogs/closeup_dialog_controller_icon.png" type="Texture" id=12]
[ext_resource path="res://addons/closeup_dialogs/close_up_dialog_node.gd" type="Script" id=13]
[ext_resource path="res://addons/closeup_dialogs/closeup_dialog_node_icon.png" type="Texture" id=14]

[sub_resource type="ConvexPolygonShape2D" id=1]

custom_solver_bias = 0.0
points = Vector2Array( -1113.63, -318.753, -1067.33, -337.649, -1018.18, -346.94, -968.597, -353.429, -919.002, -358.402, -869.047, -362.424, -819.114, -365.736, -769.157, -368.508, -719.475, -370.836, -669.315, -372.829, -619.076, -374.521, -568.817, -375.95, -518.83, -377.142, -468.745, -378.134, -418.756, -378.941, -368.71, -379.583, -318.75, -380.072, -269.009, -380.42, -219.266, -380.639, -168.924, -380.738, -119.112, -380.72, -69.221, -380.594, -18.9718, -380.362, 31.2092, -380.031, 80.8902, -379.607, 131.08, -379.086, 180.995, -378.479, 231.29, -377.777, 281.18, -376.996, 331.32, -376.125, 381.642, -375.166, 431.719, -374.127, 481.483, -373.011, 531.219, -371.812, 581.196, -370.523, 631.319, -369.142, 681.155, -367.681, 731.278, -366.119, 781.56, -364.455, 831.544, -362.702, 881.726, -360.835, 931.923, -358.853, 981.933, -356.756, 1032.11, -354.518, 1082.15, -352.137, 1132.24, -349.583, 1181.93, -346.856, 1231.86, -343.883, 1281.64, -340.631, 1331.35, -337.009, 1381.15, -332.85, 1430.79, -327.847, 1480.34, -320.971, 1489.16, -271.725, 1477.53, -223.166, 1463.78, -175.251, 1447.7, -127.724, 1429.31, -81.1032, 1408.7, -35.8406, 1385.66, 8.32149, 1359.94, 51.5776, 1332.07, 92.8978, 1301.63, 132.819, 1269.06, 170.717, 1234.38, 206.586, 1197.39, 240.644, 1158.92, 272.208, 1118.52, 301.757, 1076.84, 328.926, 1033.37, 354.134, 988.812, 377.077, 943.592, 397.702, 897.517, 416.257, 850.354, 432.931, 802.525, 447.666, 754.481, 460.453, 705.977, 471.477, 656.743, 480.872, 607.219, 488.624, 557.858, 494.761, 508.38, 499.412, 458.487, 502.662, 408.248, 504.544, 358.107, 505.092, 307.757, 504.356, 258.025, 502.409, 207.835, 499.251, 158.012, 494.962, 108.238, 489.551, 58.5769, 483.051, 9.09001, 475.492, -40.1584, 466.905, -89.4805, 457.244, -138.062, 446.686, -186.584, 435.101, -234.608, 422.598, -282.788, 408.999, -330.674, 394.407, -378.53, 378.718, -425.568, 362.179, -472.049, 344.695, -518.208, 326.147, -563.922, 306.541, -609.682, 285.588, -654.393, 263.722, -698.516, 240.659, -742.142, 216.239, -785.031, 190.456, -827.176, 163.14, -868.015, 134.46, -907.907, 103.898, -945.959, 71.8107, -982.489, 37.4874, -1016.79, 0.934769, -1048.21, -38.0061, -1076.02, -79.6653, -1098.99, -123.963, -1115.84, -171.227, -1124.66, -220.296, -1124.09, -270.268, -1113.63, -318.753 )

[sub_resource type="Curve2D" id=2]

bake_interval = 50.0
_data = { "points":Vector2Array( -207.906, 646.102, 109.865, -109.865, -1113.63, -318.753, -192.247, -52.2178, -261.824, 1472.76, 1498.11, -317.142, -207.906, 646.102, 0, 0, -1113.63, -318.753 ) }

[node name="Node2D" type="Node2D"]

[node name="ThickPlatform" type="StaticBody2D" parent="."]

material/material = { "Angle":1.79, "BakeInterval":50.0, "BorderPosition1":0.91, "BorderPosition2":0.73, "BorderTexture1":"res://Assets/platform2d-example/grass_border.png", "BorderTexture2":"res://Assets/platform2d-example/rock_border.png", "BorderThickness1":100.0, "BorderThickness2":100.0, "FillSize":1.0, "FillTexture":"res://Assets/platform2d-example/dirt.png" }
z/z = -10
input/pickable = false
shapes/0/shape = SubResource( 1 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 0, 0 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
constant_linear_velocity = Vector2( 0, 0 )
constant_angular_velocity = 0.0
friction = 1.0
bounce = 0.0
script/script = ExtResource( 1 )
__meta__ = { "_editor_icon":ExtResource( 2 ) }
MovingPlatform = false
Curve = SubResource( 2 )
BakeInterval = 50.0
FillTexture = ExtResource( 3 )
FillSize = 1.0
BorderTexture1 = ExtResource( 4 )
BorderThickness1 = 100.0
BorderPosition1 = 0.91
BorderTexture2 = ExtResource( 5 )
BorderThickness2 = 100.0
BorderPosition2 = 0.73
Angle = 1.79

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ThickPlatform"]

visibility/visible = false
build_mode = 0
polygon = Vector2Array( -1113.63, -318.753, -1067.33, -337.649, -1018.18, -346.94, -968.597, -353.429, -919.002, -358.402, -869.047, -362.424, -819.114, -365.736, -769.157, -368.508, -719.475, -370.836, -669.315, -372.829, -619.076, -374.521, -568.817, -375.95, -518.83, -377.142, -468.745, -378.134, -418.756, -378.941, -368.71, -379.583, -318.75, -380.072, -269.009, -380.42, -219.266, -380.639, -168.924, -380.738, -119.112, -380.72, -69.221, -380.594, -18.9718, -380.362, 31.2092, -380.031, 80.8902, -379.607, 131.08, -379.086, 180.995, -378.479, 231.29, -377.777, 281.18, -376.996, 331.32, -376.125, 381.642, -375.166, 431.719, -374.127, 481.483, -373.011, 531.219, -371.812, 581.196, -370.523, 631.319, -369.142, 681.155, -367.681, 731.278, -366.119, 781.56, -364.455, 831.544, -362.702, 881.726, -360.835, 931.923, -358.853, 981.933, -356.756, 1032.11, -354.518, 1082.15, -352.137, 1132.24, -349.583, 1181.93, -346.856, 1231.86, -343.883, 1281.64, -340.631, 1331.35, -337.009, 1381.15, -332.85, 1430.79, -327.847, 1480.34, -320.971, 1489.16, -271.725, 1477.53, -223.166, 1463.78, -175.251, 1447.7, -127.724, 1429.31, -81.1032, 1408.7, -35.8406, 1385.66, 8.32149, 1359.94, 51.5776, 1332.07, 92.8978, 1301.63, 132.819, 1269.06, 170.717, 1234.38, 206.586, 1197.39, 240.644, 1158.92, 272.208, 1118.52, 301.757, 1076.84, 328.926, 1033.37, 354.134, 988.812, 377.077, 943.592, 397.702, 897.517, 416.257, 850.354, 432.931, 802.525, 447.666, 754.481, 460.453, 705.977, 471.477, 656.743, 480.872, 607.219, 488.624, 557.858, 494.761, 508.38, 499.412, 458.487, 502.662, 408.248, 504.544, 358.107, 505.092, 307.757, 504.356, 258.025, 502.409, 207.835, 499.251, 158.012, 494.962, 108.238, 489.551, 58.5769, 483.051, 9.09001, 475.492, -40.1584, 466.905, -89.4805, 457.244, -138.062, 446.686, -186.584, 435.101, -234.608, 422.598, -282.788, 408.999, -330.674, 394.407, -378.53, 378.718, -425.568, 362.179, -472.049, 344.695, -518.208, 326.147, -563.922, 306.541, -609.682, 285.588, -654.393, 263.722, -698.516, 240.659, -742.142, 216.239, -785.031, 190.456, -827.176, 163.14, -868.015, 134.46, -907.907, 103.898, -945.959, 71.8107, -982.489, 37.4874, -1016.79, 0.934769, -1048.21, -38.0061, -1076.02, -79.6653, -1098.99, -123.963, -1115.84, -171.227, -1124.66, -220.296, -1124.09, -270.268, -1113.63, -318.753 )
shape_range = Vector2( 0, 0 )
trigger = false

[node name="StaticBody2D" type="StaticBody2D" parent="."]

transform/pos = Vector2( 15.1052, -573.999 )
input/pickable = false
collision/layers = 1
collision/mask = 1
constant_linear_velocity = Vector2( 0, 0 )
constant_angular_velocity = 0.0
friction = 1.0
bounce = 0.0

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

layer = -1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 2, 2 )
scroll/offset = Vector2( 0, 0 )
scroll/base_offset = Vector2( 0, 0 )
scroll/base_scale = Vector2( 1, 1 )
scroll/limit_begin = Vector2( 0, 0 )
scroll/limit_end = Vector2( 0, 0 )
scroll/ignore_camera_zoom = true

[node name="Sprite" type="Sprite" parent="ParallaxBackground"]

transform/pos = Vector2( 764.077, 419.311 )
texture = ExtResource( 6 )

[node name="WorldDialogueTrigger" parent="." instance=ExtResource( 7 )]

transform/pos = Vector2( 516.813, -537.952 )
transform/scale = Vector2( 3.32855, 5.23987 )
first_dialogue = NodePath("../CloseUpDialogController")
dialogue_type = "close_up"

[node name="TestEnemy" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 953.678, -452.621 )

[node name="Node2D" parent="." instance=ExtResource( 9 )]

transform/pos = Vector2( 932.982, -445.188 )

[node name="Player_start" parent="." instance=ExtResource( 10 )]

transform/pos = Vector2( -396.646, -494.875 )

[node name="Camera2D" type="Camera2D" parent="."]

transform/pos = Vector2( 110.233, -507.738 )
anchor_mode = 1
rotating = false
current = true
zoom = Vector2( 1, 1 )
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
drag_margin/h_enabled = true
drag_margin/v_enabled = true
smoothing/enable = false
smoothing/speed = 5.0
drag_margin/left = 0.2
drag_margin/top = 0.2
drag_margin/right = 0.2
drag_margin/bottom = 0.2

[node name="CloseUpDialogController" type="Node2D" parent="."]

script/script = ExtResource( 11 )
__meta__ = { "_editor_icon":ExtResource( 12 ) }
first_dialog = NodePath("CloseUpDialogNode")
finish_callback_node = null
finish_callback_method = null
autoplay = false

[node name="CloseUpDialogNode" type="Node2D" parent="CloseUpDialogController"]

script/script = ExtResource( 13 )
__meta__ = { "_editor_icon":ExtResource( 14 ) }
character = "pepper"
emotion = "normal"
next_dialog = NodePath("../CloseUpDialogNode2")
position = "Left"
text = "Russian kompot is good, isn\'t it\?"

[node name="CloseUpDialogNode2" type="Node2D" parent="CloseUpDialogController"]

script/script = ExtResource( 13 )
__meta__ = { "_editor_icon":ExtResource( 14 ) }
character = "pepper"
emotion = "normal"
next_dialog = NodePath("../CloseUpDialogNode3")
position = "Left"
text = "Russian food is the best food in the universe."

[node name="CloseUpDialogNode3" type="Node2D" parent="CloseUpDialogController"]

script/script = ExtResource( 13 )
__meta__ = { "_editor_icon":ExtResource( 14 ) }
character = "coriander"
emotion = "normal"
next_dialog = NodePath("../CloseUpDialogNode4")
position = "Right"
text = "Hello, World!"

[node name="CloseUpDialogNode4" type="Node2D" parent="CloseUpDialogController"]

script/script = ExtResource( 13 )
__meta__ = { "_editor_icon":ExtResource( 14 ) }
character = "pepper"
emotion = "normal"
next_dialog = NodePath("")
position = "Left"
text = "Really tho, where the kompot at\?"


